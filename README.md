# mcp-central-agent

A local agent that bridges private MCP servers (stdio processes, localhost URLs) running on your machine to [MCP Central](https://github.com/BitsDiver/mcp-central) via an outbound tunnel.

## Overview

MCP Central is a cloud-hosted MCP proxy, but some MCP servers run locally:

- `stdio` processes (e.g. `npx @modelcontextprotocol/server-github`)
- HTTP servers on `localhost` / `192.168.x.x` / `*.local`

**mcp-central-agent** solves this by:

1. Running on your machine as a lightweight Node.js process
2. Connecting outbound to MCP Central via Socket.IO (no port forwarding needed)
3. Forwarding tool calls to your local MCP servers and returning results

## Quick Start

### 1. Create a Local Agent in MCP Central

Go to **Endpoints** → **Add Local Agent**, enter a name, and copy the generated API key.

### 2. Initialize Config

```bash
npx mcp-central-agent init
```

Answer the prompts:

- **Server URL**: `https://your-mcp-central.example.com`
- **Agent name**: `My Laptop`
- **API key**: `agent_xxxxxxxxxx...` (from step 1)

This creates `mcp-agent.json` in the current directory.

### 3. Start the Agent

```bash
npx mcp-central-agent start
```

The agent connects to MCP Central and receives the list of endpoints assigned to it. It starts each local MCP server and announces its tools to MCP Central.

## Configuration File

`mcp-agent.json`:

```json
{
  "serverUrl": "https://your-mcp-central.example.com",
  "agentName": "My Laptop",
  "apiKey": "agent_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
}
```

| Field       | Description                                            |
| ----------- | ------------------------------------------------------ |
| `serverUrl` | Base URL of your MCP Central server                    |
| `agentName` | Must match the agent name created in the UI            |
| `apiKey`    | Secret key generated by MCP Central (never share this) |

Endpoints are managed from the MCP Central UI — the agent receives them automatically when it connects.

## Supported Transports

| Transport         | Description                                                         |
| ----------------- | ------------------------------------------------------------------- |
| `stdio`           | Spawns a local process (e.g. `npx @modelcontextprotocol/server-fs`) |
| `streamable-http` | Connects to a local HTTP MCP server                                 |
| `sse`             | Connects to a local SSE MCP server                                  |

## CLI Reference

```
mcp-central-agent init [--output <path>]   Create config file interactively
mcp-central-agent start [--config <path>]  Start the agent
```

## Security

- The API key is a unique secret per agent. Keep it private.
- Traffic is outbound only — no inbound ports needed.
- IP whitelisting is configurable in MCP Central.
- The key is stored as a SHA-256 hash in the database; MCP Central never sees or stores the plain-text key after creation.
